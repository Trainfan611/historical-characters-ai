# üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

## –®–∞–≥ 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ Railway

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω–∞ Railway –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–¥–Ω—É –∏–∑ –∫–æ–º–∞–Ω–¥:

### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Railway CLI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
railway run npx prisma migrate deploy
```

### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ Railway Dashboard
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞ Railway
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "Deployments"
3. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π deployment
4. –í —Ä–∞–∑–¥–µ–ª–µ "Shell" –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```bash
   npx prisma migrate deploy
   ```

### –í–∞—Ä–∏–∞–Ω—Ç C: –ü—Ä—è–º–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ (–µ—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç)
```bash
railway run npx prisma db push
```

## –®–∞–≥ 2: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

1. **–í–æ–π–¥–∏—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** —á–µ—Ä–µ–∑ Telegram (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –≤–æ—à–ª–∏)
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É**: `https://–≤–∞—à-–¥–æ–º–µ–Ω.com/admin/setup`
3. **–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É** "–ù–∞–∑–Ω–∞—á–∏—Ç—å –º–µ–Ω—è –∞–¥–º–∏–Ω–æ–º"
4. **–ì–æ—Ç–æ–≤–æ!** –í—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (—á–µ—Ä–µ–∑ API)

–ï—Å–ª–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å API –Ω–∞–ø—Ä—è–º—É—é:

```bash
curl -X POST https://–≤–∞—à-–¥–æ–º–µ–Ω.com/api/admin/make-me-admin \
  -H "Cookie: next-auth.session-token=–≤–∞—à_—Ç–æ–∫–µ–Ω"
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±–æ–∏—Ö —à–∞–≥–æ–≤:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `/admin` - –¥–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
2. –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É –¥–æ—Å—Ç—É–ø–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ –ª–∏ –º–∏–≥—Ä–∞—Ü–∏—è (–ø–æ–ª–µ `isAdmin` –≤ —Ç–∞–±–ª–∏—Ü–µ `User`)
   - –ù–∞–∑–Ω–∞—á–µ–Ω—ã –ª–∏ –≤—ã –∞–¥–º–∏–Ω–æ–º (`isAdmin = true`)

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "Migration failed"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `DATABASE_URL` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Railway Variables
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞

### –û—à–∏–±–∫–∞: "User not found"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤–æ—à–ª–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∞—à–∞ —Å–µ—Å—Å–∏—è –∞–∫—Ç–∏–≤–Ω–∞

### –û—à–∏–±–∫–∞: "–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏ —à–∞–≥ 2 (–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ `isAdmin = true` –¥–ª—è –≤–∞—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

**–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª `/app/api/admin/make-me-admin/route.ts` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.**
