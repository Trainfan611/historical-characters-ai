# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ 16000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ –≤ –∫–æ–¥–µ:

1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –≤ Prisma schema
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∫—ç—à –¥–ª—è –ª–∏–º–∏—Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
3. ‚úÖ –°–æ–∑–¥–∞–Ω health check endpoint (`/api/health`)
4. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω next.config.js
5. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω rate limiting –ø–æ IP

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—Ä—É—á–Ω—É—é:

### –®–∞–≥ 1: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ –∏–ª–∏ –≤ Railway Shell
npx prisma db push
```

–ò–ª–∏ —á–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏—é:
```bash
npx prisma migrate dev --name add_performance_indexes
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Railway –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≤ Railway Dashboard
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Scaling**
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ:
   - **CPU:** 2 GB (–º–∏–Ω–∏–º—É–º)
   - **RAM:** 2 GB (–º–∏–Ω–∏–º—É–º)
   - **Min instances:** 1
   - **Max instances:** 3-5 (–¥–ª—è 50 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç—å DATABASE_URL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–î–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã connection pooling –≤ Railway Variables:

**–¢–µ–∫—É—â–∏–π —Ñ–æ—Ä–º–∞—Ç:**
```
postgresql://user:pass@host:port/db
```

**–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:**
```
postgresql://user:pass@host:port/db?connection_limit=20&pool_timeout=20
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Health Check –≤ Railway

1. –í Railway Dashboard ‚Üí Settings ‚Üí Health
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
   - **Health Check Path:** `/api/health`
   - **Health Check Interval:** 30 seconds
   - **Health Check Timeout:** 10 seconds

### –®–∞–≥ 5: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–°–ª–µ–¥–∏—Ç–µ –∑–∞ –º–µ—Ç—Ä–∏–∫–∞–º–∏ –≤ Railway Dashboard:
- CPU Usage (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å < 80%)
- Memory Usage (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å < 80%)
- Request Rate
- Error Rate

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

1. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ë–î** (`npx prisma db push`) - –±–µ–∑ –∏–Ω–¥–µ–∫—Å–æ–≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç –Ω–∏–∑–∫–æ–π
2. **–£–≤–µ–ª–∏—á—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã Railway** - –±–µ–∑ —ç—Ç–æ–≥–æ –Ω–µ —Å–ø—Ä–∞–≤–∏—Ç–µ—Å—å —Å 50 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏** - –µ—Å–ª–∏ CPU/Memory > 90%, —É–≤–µ–ª–∏—á—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã –∏–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤

---

## üìä –û–∂–∏–¥–∞–µ–º–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:

- ‚úÖ **16000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å** - –ª–µ–≥–∫–æ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç—Å—è
- ‚úÖ **50 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤** - –ø—Ä–∏ 3-5 –∏–Ω—Å—Ç–∞–Ω—Å–∞—Ö
- ‚úÖ **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API** - < 2 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ **–í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏** - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç Replicate API (–æ–±—ã—á–Ω–æ 30-60 —Å–µ–∫)

---

## üí∞ –û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏:

- **Railway Developer Plan:** $20/–º–µ—Å—è—Ü (–¥–æ 5 –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤, 2GB RAM –∫–∞–∂–¥—ã–π)
- **PostgreSQL:** –í–∫–ª—é—á—ë–Ω –≤ Railway –ø–ª–∞–Ω
- **–í–Ω–µ—à–Ω–∏–µ API:** ~$336/–¥–µ–Ω—å –¥–ª—è 16000 –∑–∞–ø—Ä–æ—Å–æ–≤ (Perplexity + OpenAI + Replicate)

---

## üîß –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway (Deployments ‚Üí Logs)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ health check: `https://your-domain.railway.app/api/health`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–Ω–¥–µ–∫—Å—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã: `npx prisma studio` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü
4. –£–≤–µ–ª–∏—á—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã Railway, –µ—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –≤—ã—Å–æ–∫—É—é –∑–∞–≥—Ä—É–∑–∫—É CPU/Memory
